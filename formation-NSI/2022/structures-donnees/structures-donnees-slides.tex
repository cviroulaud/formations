\documentclass[svgnames,11pt]{beamer}
\input{/home/tof/Documents/Cozy/latex-include/preambule_commun.tex}
\input{/home/tof/Documents/Cozy/latex-include/preambule_beamer.tex}
%\usepackage{pgfpages} \setbeameroption{show notes on second screen=left}
\author[]{Formation 2022-2023}
\title{Représentation des données \\ types construits}
\date{\framebox{\textbf{NSI}}}
%\logo{}
%\institute{Formation NSI}

%DODO comparatif durée création liste https://www.delftstack.com/fr/howto/python/how-to-create-a-list-with-a-specific-size-in-python/

\begin{document}
\begin{frame}
    \titlepage
\end{frame}
\begin{frame}
    \frametitle{}

    \begin{framed}
        \centering Identifier et définir les différentes structures de données devant être maîtrisées en NSI.
    \end{framed}

\end{frame}
\section{Les programmes}
\subsection{En première}
\begin{frame}
    \frametitle{Les programmes - En première}

    \begin{center}
        \includegraphics[width=10cm]{ressources/premiere.png}
    \end{center}

\end{frame}
\subsection{En terminale}
\begin{frame}
    \frametitle{En terminale}

    \begin{center}
        \includegraphics[width=10cm]{ressources/terminale1.png}
    \end{center}
    \begin{center}
        \includegraphics[width=10cm]{ressources/terminale2.png}
    \end{center}

\end{frame}
\section{Listes}
\subsection{Ambiguïté}
\begin{frame}
    \frametitle{Listes - Ambiguïté}


    \begin{aretenir}[Observation]
        \centering Les \textbf{\texttt{list}} Python ne sont pas des listes.
    \end{aretenir}
\end{frame}
\begin{frame}
    \frametitle{}

    \begin{aretenir}[Définition]
        \centering Une liste est une séquence ordonnée d'éléments de même type. Chaque élément est repéré par sa position dans la liste.
    \end{aretenir}

\end{frame}
\subsection{Tableau}
\subsubsection{Définition}
\begin{frame}
    \frametitle{Tableau - Définition}

    \begin{aretenir}[Définition]
        Un tableau est une séquence ordonnée et \underline{contigüe} d'éléments de même type.\\
        Le contenu d'un tableau est modifiable.
    \end{aretenir}

\end{frame}
\begin{frame}
    \frametitle{}

    \begin{center}
        \begin{tikzpicture}[scale=0.8]
            \fill[gray!50] (3,2) rectangle (10,3);
            \draw (0,0) grid (11,7);

            \draw (0.5,2.5) node{h};
            \draw (1.5,2.5) node{e};
            \draw (2.5,2.5) node{y};

            \draw (0.5,6.5) node{h};
            \draw (1.5,6.5) node{e};
            \draw (2.5,6.5) node{l};
            \draw (3.5,6.5) node{l};
            \draw (4.5,6.5) node{o};
            \draw (5.5,6.5) node{!};

            \draw (10.5,2.5) node{!};
            \draw (7.5,4.5) node{9};
            \draw (8.5,3.5) node{6};
            \draw (1.5,4.5) node{3};
            \draw (2.5,1.5) node{4};
            \draw (1.5,1.5) node{3};

            \foreach \x/\y in {3/8,4/5,5/3,6/9,7/1,8/0,9/2}
                {\draw (\x+0.5,2.5) node{\y};}
        \end{tikzpicture}
        \captionof{figure}{\centering Simulation de représentation en mémoire}
        \label{IMG}
    \end{center}

\end{frame}
\subsubsection{Complexité temporelle}
\begin{frame}
    \frametitle{Complexité temporelle}

    \begin{center}
        \begin{tikzpicture}
            \draw (0,0) grid (7,1);
            \foreach \x/\n in {0/8,1/5,2/3,3/9,4/1,5/0,6/2}{
                    \node at (0.5+\x, 1.2) {\x};
                    \node at (0.5+\x, .5) {\n};
                }
        \end{tikzpicture}
        \captionof{figure}{\centering On accède à un élément \textbf{en temps constant} grâce à son indice.}
    \end{center}


\end{frame}
\begin{frame}
    \frametitle{}
    \begin{center}
        \begin{tikzpicture}[scale=0.8]
            \fill[gray!50] (3,2) rectangle (10,3);
            \draw (0,0) grid (11,7);

            \draw (0.5,2.5) node{h};
            \draw (1.5,2.5) node{e};
            \draw (2.5,2.5) node{y};

            \draw (0.5,6.5) node{h};
            \draw (1.5,6.5) node{e};
            \draw (2.5,6.5) node{l};
            \draw (3.5,6.5) node{l};
            \draw (4.5,6.5) node{o};
            \draw (5.5,6.5) node{!};

            \draw (10.5,2.5) node{!};
            \draw (7.5,4.5) node{9};
            \draw (8.5,3.5) node{6};
            \draw (1.5,4.5) node{3};
            \draw (2.5,1.5) node{4};
            \draw (1.5,1.5) node{3};

            \foreach \x/\y in {3/8,4/5,5/3,6/9,7/1,8/0,9/2}
                {\draw (\x+0.5,2.5) node{\y};
                    \draw[->,>=latex] (\x+.5,2) -- (\x+.5,.5);
                }
            \node[draw,dashed,fill=gray!50, minimum width=0.7cm,minimum height=0.7cm] at(10.5,.5) {7};
        \end{tikzpicture}
        \captionof{figure}{\centering Agrandir un tableau peut prendre \textbf{un temps linéaire} à la taille du tableau.}
        \label{IMG}
    \end{center}


\end{frame}
\subsection{Liste chaînée}
\subsubsection{Définition}
\begin{frame}
    \frametitle{Liste chaînée - Définition}

    \begin{aretenir}[Définition]
        Une liste chaînée est une séquence ordonnée où chaque élément possède une référence vers le suivant.
    \end{aretenir}

\end{frame}
\begin{frame}
    \frametitle{}

    \begin{center}
        \begin{tikzpicture}[scale=0.8]
            \draw (0,0) grid (11,7);

            \draw (0.5,2.5) node{h};
            \draw (1.5,2.5) node{e};
            \draw (2.5,2.5) node{y};

            \draw (0.5,6.5) node{h};
            \draw (1.5,6.5) node{e};
            \draw (2.5,6.5) node{l};
            \draw (3.5,6.5) node{l};
            \draw (4.5,6.5) node{o};
            \draw (5.5,6.5) node{!};

            \draw (10.5,2.5) node{!};
            \draw (7.5,4.5) node{9};
            \draw (8.5,3.5) node{6};
            \draw (1.5,4.5) node{3};
            \draw (2.5,1.5) node{4};
            \draw (1.5,1.5) node{3};

            \fill[gray!50] (0,4) rectangle (1,5);
            \node (8) at (0.5,4.5) {8};
            \fill[gray!50] (8,6) rectangle (9,7);
            \node (5) at (8.5,6.5) {5};
            \fill[gray!50] (9,4) rectangle (10,5);
            \node (3) at (9.5,4.5) {3};
            \fill[gray!50] (0,0) rectangle (1,1);
            \node (9) at (0.5,0.5) {9};
            \fill[gray!50] (4,0) rectangle (5,1);
            \node (1) at (4.5,0.5) {1};
            \fill[gray!50] (7,1) rectangle (8,2);
            \node (0) at (7.5,1.5) {0};
            \fill[gray!50] (9,3) rectangle (10,4);
            \node (2) at (9.5,3.5) {2};
            \draw[<-,>=latex] (8) -- (5);
            \draw[<-,>=latex] (5) -- (3);
            \draw[<-,>=latex] (3) -- (9);
            \draw[<-,>=latex] (9) -- (1);
            \draw[<-,>=latex] (1) -- (0);
            \draw[<-,>=latex] (0) -- (2);
        \end{tikzpicture}
        \captionof{figure}{\centering Simulation de représentation en mémoire}
    \end{center}

\end{frame}
\subsubsection{Complexité temporelle}
\begin{frame}
    \frametitle{Complexité temporelle}

    \begin{center}
        \begin{tikzpicture}[scale=0.8]
            \draw (0,0) grid (11,7);

            \draw (0.5,2.5) node{h};
            \draw (1.5,2.5) node{e};
            \draw (2.5,2.5) node{y};

            \draw (0.5,6.5) node{h};
            \draw (1.5,6.5) node{e};
            \draw (2.5,6.5) node{l};
            \draw (3.5,6.5) node{l};
            \draw (4.5,6.5) node{o};
            \draw (5.5,6.5) node{!};

            \draw (10.5,2.5) node{!};
            \draw (7.5,4.5) node{9};
            \draw (8.5,3.5) node{6};
            \draw (1.5,4.5) node{3};
            \draw (2.5,1.5) node{4};
            \draw (1.5,1.5) node{3};

            \fill[gray!50] (0,4) rectangle (1,5);
            \node (8) at (0.5,4.5) {8};
            \fill[gray!50] (8,6) rectangle (9,7);
            \node (5) at (8.5,6.5) {5};
            \fill[gray!50] (9,4) rectangle (10,5);
            \node (3) at (9.5,4.5) {3};
            \fill[gray!50] (0,0) rectangle (1,1);
            \node (9) at (0.5,0.5) {9};
            \fill[gray!50] (4,0) rectangle (5,1);
            \node (1) at (4.5,0.5) {1};
            \fill[gray!50] (7,1) rectangle (8,2);
            \node (0) at (7.5,1.5) {0};
            \fill[gray!50] (9,3) rectangle (10,4);
            \node (2) at (9.5,3.5) {2};
            \draw[<-,>=latex] (8) -- (5);
            \draw[<-,>=latex] (5) -- (3);
            \draw[<-,>=latex] (3) -- (9);
            \draw[<-,>=latex] (9) -- (1);
            \draw[<-,>=latex] (1) -- (0);
            \draw[<-,>=latex] (0) -- (2);
        \end{tikzpicture}
        \captionof{figure}{\centering On accède à l'élément de rang \textbf{\texttt{n}} \textbf{en temps linéaire}.}
    \end{center}
\end{frame}

\begin{frame}
    \frametitle{}

    \begin{center}
        \begin{tikzpicture}[scale=0.8]
            \draw (0,0) grid (11,7);

            \draw (0.5,2.5) node{h};
            \draw (1.5,2.5) node{e};
            \draw (2.5,2.5) node{y};

            \draw (0.5,6.5) node{h};
            \draw (1.5,6.5) node{e};
            \draw (2.5,6.5) node{l};
            \draw (3.5,6.5) node{l};
            \draw (4.5,6.5) node{o};
            \draw (5.5,6.5) node{!};

            \draw (10.5,2.5) node{!};
            \draw (7.5,4.5) node{9};
            \draw (8.5,3.5) node{6};
            \draw (1.5,4.5) node{3};
            \draw (2.5,1.5) node{4};
            \draw (1.5,1.5) node{3};

            \fill[gray!50] (0,4) rectangle (1,5);
            \node (8) at (0.5,4.5) {8};
            \fill[gray!50] (8,6) rectangle (9,7);
            \node (5) at (8.5,6.5) {5};
            \fill[gray!50] (9,4) rectangle (10,5);
            \node (3) at (9.5,4.5) {3};
            \fill[gray!50] (0,0) rectangle (1,1);
            \node (9) at (0.5,0.5) {9};
            \fill[gray!50] (4,0) rectangle (5,1);
            \node (1) at (4.5,0.5) {1};
            \fill[gray!50] (7,1) rectangle (8,2);
            \node (0) at (7.5,1.5) {0};
            \fill[gray!50] (9,3) rectangle (10,4);
            \node (2) at (9.5,3.5) {2};
            \draw[<-,>=latex] (8) -- (5);
            \draw[<-,>=latex] (5) -- (3);
            \draw[<-,>=latex] (3) -- (9);
            \draw[<-,>=latex] (9) -- (1);
            \draw[<-,>=latex] (1) -- (0);
            \draw[<-,>=latex] (0) -- (2);

            \node[draw,dashed,fill=gray!50, minimum width=0.7cm,minimum height=0.7cm] (7) at(10.5,.5) {7};
            \draw[<-,>=latex] (2) -- (7);
        \end{tikzpicture}
        \captionof{figure}{\centering On ajoute un élément en tête de liste \textbf{en temps constant}.}
    \end{center}
\end{frame}
\subsection{\textbf{\texttt{list} Python}}
\begin{frame}
    \frametitle{\textbf{\texttt{list} Python}}

    \begin{aretenir}[Observations]
        \begin{itemize}
            \item Python est un langage de haut-niveau.
            \item Les \textbf{\texttt{list}} essaie de prendre les avantages des deux structures précédentes.
            \item Les \textbf{\texttt{list}} vont plus loin: les éléments peuvent être de types différents.
        \end{itemize}
    \end{aretenir}

\end{frame}
\section{Parcours de listes et dictionnaires}
\subsection{Difficultés rencontrées}
\begin{frame}
    \frametitle{Parcours de listes et dictionnaires - Difficultés rencontrées}

    \begin{aretenir}[Constat]
\begin{itemize}
    \item Dans un tableau, confusion indice / élément.
    \item Tentative de récupération des informations dans un dictionnaire, avec un indice.
\end{itemize}
    \end{aretenir}
\end{frame}
\begin{frame}[fragile]
    \frametitle{}

\begin{center}
\begin{lstlisting}[language=Python , basicstyle=\ttfamily\small, xleftmargin=2em, xrightmargin=2em]
# confusion indice / élément
tab = [3, 9, 1]
for i in tab:
    print(tab[i])
\end{lstlisting}
\begin{lstlisting}[language=Python , basicstyle=\ttfamily\small, xleftmargin=2em, xrightmargin=2em]
# indice dans un dictionnaire
dico = {"a": 2, "e": 4, "f": 1}
for i in range(len(dico)):
    print(dico[i])
\end{lstlisting}
\captionof{code}{Erreurs courantes}
\label{CODE}
        \end{center}
\end{frame}
\subsection{Surmonter les difficultés}
\begin{frame}
    \frametitle{Surmonter les difficultés}

    \begin{center}
        \begin{tikzpicture}
            \draw[fill=PeachPuff] (0,0) -- (5,0) -- (5,1) -- (0,1) -- cycle;
            \draw[fill=PeachPuff] (0.5,-1.5) -- (3,-1.5) -- (3,-0.5) -- (0.5,-0.5) -- cycle;
            \draw (0,0) grid (5,1);

            \foreach \i in {0,1,...,4}{
                \draw (0.5+\i,0.5) node{\i};
            }
\node at(0.5,-1){\textbf{\texttt{{\LARGE for i in range(5)}}} :};
\draw[->,>=latex] (-0.9,-0.5) to[out=90,in=90] (0.5,1);
\draw[->,>=latex] (-0.9,-0.5) to[out=90,in=90] (1.5,1);

        \end{tikzpicture}

        \captionof{figure}{\centering En amont, comment présenter les boucles bornées?}
    \end{center}

\end{frame}
\begin{frame}

    \begin{center}
        \begin{tikzpicture}
            \draw (0,0) grid (5,1);

            \foreach \i/\n in {0/3,1/8,2/13,3/23,4/1}{
                \draw (0.5+\i,0.5) node{\n};
                \node[draw,fill=lightgray] at(0.5+\i,1) {\i};
            }

        \end{tikzpicture}
        \captionof{figure}{\centering Dans un tableau chaque élément possède une étiquette.}
    \end{center}

    \begin{center}
        \begin{tikzpicture}
            \node[draw,minimum height=1cm,minimum width=1cm] at(0,0) {23};
            \node[draw,fill=lightgray] at(0,0.5) {"a"};

            \node[draw,minimum height=1cm,minimum width=1cm] at(2,2) {8};
            \node[draw,fill=lightgray] at(2,2.5) {"d"};

            \node[draw,minimum height=1cm,minimum width=1cm] at(0.5,1.5) {19};
            \node[draw,fill=lightgray] at(0.5,2) {"s"};

            \node[draw,minimum height=1cm,minimum width=1cm] at(1.8,0) {12};
            \node[draw,fill=lightgray] at(1.8,0.5) {"h"};
        \end{tikzpicture}
        \captionof{figure}{\centering Dans un dictionnaire chaque élément possède une étiquette.}
    \end{center}

\end{frame}
\begin{frame}[fragile]
    \frametitle{}

    \begin{center}
        {\LARGE \texttt{\textbf{for}} element \texttt{\textbf{in}} structure}
    \end{center}
La variable \textbf{\texttt{element}} prend ses valeurs dans la \textbf{\texttt{structure}} (ordonnée ou non).
    
\end{frame}
\section{Fonction et paramètre mutable}
\begin{frame}
    \frametitle{Fonction et paramètre mutable}

    \begin{aretenir}[Observation]
Le passage d'un argument mutable à une fonction est source d'erreur.
    \end{aretenir}

\end{frame}
\begin{frame}[fragile]
    \begin{center}
    \begin{lstlisting}[language=Python, basicstyle=\ttfamily\small , xleftmargin=1em, xrightmargin=1em]
tab = [3, 8, 13, 23, 1]
\end{lstlisting}
    \begin{tikzpicture}
        \draw (0,0) grid (5,1);

        \foreach \i/\n in {0/3,1/8,2/13,3/23,4/1}{
            \draw (0.5+\i,0.5) node{\n};
        }

        \node at(-3,0) (tab){tab};
        \draw[->,>=latex] (tab) -- (0,0.5);
    \end{tikzpicture}
    \captionof{figure}{\centering La variable \textbf{\texttt{tab}} contient une référence au tableau.}
\end{center}

\end{frame}
\begin{frame}[fragile]
    \frametitle{}
\begin{center}
\begin{lstlisting}[language=Python, basicstyle=\ttfamily\small , xleftmargin=1em, xrightmargin=1em]
tab = [3, 8, 13, 23, 1]
tab1 = tab
\end{lstlisting}
\begin{tikzpicture}
    \draw (0,0) grid (5,1);

    \foreach \i/\n in {0/3,1/8,2/13,3/23,4/1}{
        \draw (0.5+\i,0.5) node{\n};
    }

    \node at(-3,0) (tab){tab};
    \draw[->,>=latex] (tab) -- (0,0.5);

    \node at(-3,1) (tab1){tab1};
    \draw[->,>=latex] (tab1) -- (0,0.5);
\end{tikzpicture}
\captionof{figure}{\centering La ligne 2 ne copie pas le contenu du tableau mais sa référence.}
\end{center}

\end{frame}
\begin{frame}[fragile]
    \frametitle{}


\begin{center}
\begin{lstlisting}[language=Python, basicstyle=\ttfamily\small , xleftmargin=1em, xrightmargin=1em]
def ma_fonction(t: list) -> None:
    t[0] = 99

tab = [3, 8, 13, 23, 1]
ma_fonction(tab)
\end{lstlisting}
\begin{tikzpicture}
    \draw (0,0) grid (5,1);

    \foreach \i/\n in {0/3,1/8,2/13,3/23,4/1}{
        \draw (0.5+\i,0.5) node{\n};
    }

    \node at(-3,0) (tab){tab};
    \draw[->,>=latex] (tab) -- (0,0.5);
\end{tikzpicture}
\begin{tikzpicture}
    \draw (0,0) grid (5,1);

    \foreach \i/\n in {0/99,1/8,2/13,3/23,4/1}{
        \draw (0.5+\i,0.5) node{\n};
    }

    \node at(-3,0.5) (tab){tab};
    \draw[->,>=latex] (tab) -- (0,0.5);


    \node at(-3,1) (tab1){t};
    \draw[->,>=latex] (tab1) -- (0,0.5);
\end{tikzpicture}
\captionof{figure}{\centering Le paramètre \textbf{\texttt{t}} contient une référence au tableau.}
\end{center} 
\begin{center}
    {\LARGE \href{https://tinyurl.com/tabfonc}{Visualiser sur Pythontutor}}
\end{center}
\end{frame}
\begin{frame}
\begin{aretenir}[Observation]
Il faut se méfier des valeurs par défaut pour les paramètres d'une fonction.
\end{aretenir}
\end{frame}
\begin{frame}[fragile]
    \frametitle{}

\begin{center}
\begin{lstlisting}[language=Python, basicstyle=\ttfamily\small , xleftmargin=0.2em, xrightmargin=-1em]
pieces = [100,50,20,10,5,2,1]
def rendu_glouton(arendre, solution = [], i = 0):
    if arendre == 0:
        return solution
    p = pieces[i]
    if p <= arendre :
        solution.append(p)
        return rendu_glouton(arendre - p, solution, i)
    else :
        return rendu_glouton(arendre, solution, i+1)

rendre = rendu_glouton(17)
rendre = rendu_glouton(17)
\end{lstlisting}
\captionof{code}{\centering Extrait épreuve pratique sujet 01: valeur par défaut dans paramètre}
\begin{lstlisting}[language=Python, basicstyle=\ttfamily\small , xleftmargin=0.2em, xrightmargin=-1em]
>>> rendre
[10, 5, 2, 10, 5, 2]
\end{lstlisting}
\end{center}

\end{frame}
\end{document}